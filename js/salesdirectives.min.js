"use strict";angular.module("world.salesdirectives",["ngAnimate","ngSanitize"]).directive("appVersion",function(e){return function(t,o){o.text(e)}}).directive("myLogin",[function(){return{restrict:"E",templateUrl:"template/login.html",controller:"Login"}}]).directive("myHeaderfix",["$location",function(){return{restrict:"AEC",templateUrl:"template/header_fix.html"}}]).directive("apartmentMobile",["$location","CreateProperty","Duplicate","$cookies","Filtermain","Check",function(e,t,o,a,n,r){return{restrict:"AEC",templateUrl:"template/form/form_create_apartment_mobile.html",controller:["$rootScope","$scope","$routeParams","$cookies",function(e,a,i,l){r.query({username:"agent1",password:"123456"},function(e){console.log(e)});var c=[],p="image/icon/map_pin.png";e.customershow=!1;var m=new FormData;a.previewdraganddrop=function(e){console.log(e);for(var t in m)console.log(m[t]);for(var o,t=0;o=e.files[t];t++)if(o.type.match("image.*")){m.append("photogal",e.files[t]);var a=new FileReader;a.onload=function(){return function(e){var t=new Image(200,200);t.src=e.target.result,t.class="gallery",document.getElementById("Previewzone").appendChild(t)}}(o),a.readAsDataURL(o)}},a.logopreview=function(e){var t=e;try{for(var o,a=0;o=t.files[a];a++)if(o.type.match("image.*")){m.append("logo",e.files[a]);var n=new FileReader;n.onload=function(){return function(e){var t=new Image(300,0);t.src=e.target.result,t.className="logo";try{document.getElementById("Previewlogozone").appendChild(t)}catch(e){}}}(o),n.readAsDataURL(o)}}catch(r){console.log(r)}},a.headerpreview=function(e){for(var t,o=e,a=0;t=o.files[a];a++)if(t.type.match("image.*")){m.append("header",e.files[a]);var n=new FileReader;n.onload=function(){return function(e){var t=new Image(300,0);t.src=e.target.result,t.class="header",document.getElementById("Previewcoverzone").appendChild(t)}}(t),n.readAsDataURL(t)}},a.upgrade=function(){a.up.location=[l.lng,l.lat],a.up.user_id="53d7741da2b722d84996a047",a.up.edit_state="0",t.post({property:a.up},function(e){if(a.statUp=e,console.log(e),void 0!==e._id){try{m.append("user_id","53d7741da2b722d84996a047"),m.append("id",e._id);var t=new XMLHttpRequest;t.open("POST","/uploadpic"),t.send(m)}catch(o){console.log(o)}finally{}n.query({all:"53d7741da2b722d84996a047"},function(e){a.list=e,a.up={}})}})},a.isDuplicate=function(){console.log(a.up.namespace),o.query({namespace:a.up.namespace},function(e){console.log(e);try{e.data&&e.data[0]._id!==a.up._id.toString()?(a.register.namespace.$error.pattern=!0,a.duplicatestatus=!1):a.duplicatestatus=!0}catch(t){}console.log(a.register)})},a.initlist=function(){n.query({all:"53d7741da2b722d84996a047"},function(e){a.list=e})},a.streetinit=function(){e.$broadcast("streetMap",!0)},a.nonstreetinit=function(){e.$broadcast("nonstreetmapReady",!0)},a.zoomin=function(){var e=a.map.getZoom();e++,a.map.setZoom(e)},a.zoomout=function(){var e=a.map.getZoom();e--,a.map.setZoom(e)},a.resetpin=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);console.log(t),a.map.setCenter(t)}):alert("กรุณาเปิด GPS ด้วยนะ")},a.$on("streetMap",["event",function(){a.distances=[];navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){var e=new google.maps.LatLng(l.lat,l.lng),t={position:e,pov:{heading:270,pitch:0},scrollwheel:!1,zoom:1};a.map=new google.maps.StreetViewPanorama(document.getElementById("map-canvas"),t),a.map.setVisible(!0),google.maps.event.addListener(a.map,"pov_changed",function(){a.up.heading=a.map.getPov().heading,a.up.pitch=a.map.getPov().pitch}),null==l.lat},function(){a.handleNoGeolocation(!0)}):a.handleNoGeolocation(!1)}]),a.$on("nonstreetmapReady",["event",function(){var e={zoom:14,scrollwheel:!1,disableDoubleClickZoom:!0};a.map=new google.maps.Map(document.getElementById("map-canvas"),e),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){if(void 0==l.lat)var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);else var t=new google.maps.LatLng(l.lat,l.lng);a.marker=new google.maps.Marker({position:t,title:"Your Location",draggable:!0,icon:p}),google.maps.event.addListener(a.map,"center_changed",function(){var e=new google.maps.LatLng(a.map.center.lat(),a.map.center.lng());l.lat=a.map.center.lat(),l.lng=a.map.center.lng(),a.marker.setPosition(e)}),google.maps.event.addListener(a.marker,"dragend",function(e){for(var t=0;t<c.length;t++)c[t].setMap(null);l.lat=e.latLng.lat(),l.lng=e.latLng.lng();var o=new google.maps.LatLng(l.lat,l.lng);a.map.setCenter(o)}),a.marker.setMap(a.map),a.map.setCenter(t),null==l.lat},function(){a.handleNoGeolocation(!0)}):a.handleNoGeolocation(!1)}]),a.handleNoGeolocation=function(e){if(e)var t="Error: The Geolocation service failed. Please click on the map to change location.";else var t="Error: Your browser doesn't support geolocation. Please click on the map to change location.";{var o={map:a.map,position:new google.maps.LatLng(13.883661700000001,100.5698831),content:t};new google.maps.InfoWindow(o)}a.map.setCenter(o.position),a.showMeTheCondo(o.position)}}]}}]).directive("myFooter",["$location",function(e){return{restrict:"E",templateUrl:"template/footer.html",controller:["$rootScope",function(t){t.myfooterbar="/info"===e.path()?!1:"/my_page"===e.path()||"/web_member"===e.path()||"/my_page2"===e.path()?!0:"/controlpanel"===e.path()?!1:"/profile_member"===e.path()||"/security_member"===e.path()||"/apartment_member"===e.path()||"/edit_property"===e.path()||"/ads_member"===e.path()||"/report_member"===e.path()||"/view_ads"===e.path()||"/permisson_ad"===e.path()||"/ads_admin"===e.path()||"/customers_admin"===e.path()||"/assign_customers_admin"===e.path()||"/stage_customers_admin"===e.path()||"/sale_dashboard"===e.path()||"/customers_billing"===e.path()||"/customers_appointment"===e.path()||"/customers_checkin"===e.path()||"/customers_detail"===e.path()||"/apartment_admin"===e.path()?!1:!1}]}}]).directive("controlpanelNotich",["User","$cookies",function(e,t){return{restrict:"E",templateUrl:"template/form/controlpanel_notich.html",link:["$scope","elem","attributes","ngModel",function(o){o.choose={},o.choose.email_favoriteap=!1,o.choose.favoriteap=!1,o.mailnotice=!1,o.notice=!1,"true"===t.Favoriteap&&e.query({email:t.Email},function(e){console.log(e.email_favoriteap),"true"===e.email_favoriteap&&(o.mailnotice=!0),"true"===e.favoriteap&&(o.notice=!0)})}],controller:["$scope",function(e){e.checkbox=function(){console.log(e.choose.email_favoriteap),console.log(e.choose.favoriteap)}}]}}]).directive("controlpanelMenu",function(){return{restrict:"E",templateUrl:"template/form/controlpanel_manu.html"}}).directive("previewWebpagetwo",function(){return{restrict:"AEC",templateUrl:"template/template_user/template_preview2.html"}}).directive("previewWebpagethree",function(){return{restrict:"AEC",templateUrl:"template/template_user/template_preview3.html"}}).directive("formAddcustomers",function(){return{restrict:"E",templateUrl:"template/form/form_add_customers.html"}}).directive("formCreateapartment",function(){return{restrict:"E",templateUrl:"template/form/form_create_apartment.html"}}).directive("formEditapartment",function(){return{restrict:"E",templateUrl:"template/form/form_create_apartment.html"}}).directive("validFile",function(){return{require:"ngModel",link:["scope","el","attrs","ngModel",function(e,t,o,a){t.bind("change",function(){e.$apply(function(){a.$setViewValue(t.val()),a.$render()})})}]}}).directive("helloHtml",[function(){return{restrict:"E",templateUrl:"template/hello.html",controller:["$scope",function(e){e.user={name:"awesome user"}}]}}]).directive("webFooter",[function(){return{restrict:"E",templateUrl:"template/footer.html"}}]);